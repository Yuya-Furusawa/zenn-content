---
title: "市場問い合わせ駆動でプロダクト理解を深める"
emoji: "😺"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

## はじめに

突然ですが皆さんは、自分自身が全く開発に関わったことのないプロダクトを保守しなければならない、あるいは、担当しているプロダクトに完全に把握していない機能が存在する、といった状況を経験したことはありませんか？

入社したばかりであれば自社のプロダクトについて理解が浅いのは当然かもしれませんが、入社数年経っていても、日常業務では特定の限られた領域の開発に集中し、過去に構築されたプロダクトや機能、モジュールについては深く理解していないというケースも少なくないでしょう。
私が所属する株式会社ビットキーはスマートロックを活用したSaaSサービスを展開しているいわゆる「IoTベンチャー」です。私自身、IoTプロダクトに携わりたいという思いで入社を決めましたが、業務の状況によってはデバイスに直接関連しない部分の開発に注力する期間が長く続くこともあります。その結果、デバイス関連の機能や「IoTっぽい」部分については表面的な知識しか持たないまま日々の業務をこなしていました。

こうした課題に対して、私は「市場問い合わせ・インシデント対応を積極的に行うことでプロダクト理解が劇的に深まる」という考えています。

本記事では、なぜ市場問い合わせ対応がプロダクト理解を促進するのか、そして私自身が市場問い合わせに対応する過程でどのようにプロダクト知識を深めることができたのかについて、具体的な経験を交えながら書きたいと思います。

## 市場問い合わせの特性と価値

### 実際のユーザーが直面している課題に向き合う

市場からの問い合わせが発生しているということは、実際のお客様が製品やサービスの使用中に不利益を被っているということを意味します。この状況では、迅速かつ適切な原因究明と効果的なリカバリーが必要になります。
問い合わせ対応のもとでは、通常の業務ではなかなかチャンスがない以下のようなことが行えるチャンスです。

- 横断的な協力体制の構築：他チームへの協力要請や情報共有の促進
- 専門知識へのアクセス：プロダクトに詳しい人材からの直接的な知識移転
- 集中的な対応時間の確保：短期間で集中してプロダクト知識を習得するための時間的余裕

このような環境は、通常の開発サイクルでは得られない、強制力を伴った学習機会を提供してくれます。

### 不具合が明確に露見している

市場問い合わせは多くの場合、プロダクトや特定機能に不具合が存在していることを示しています。これは言い換えれば、プロダクトの改善ポイントが明確に可視化されているということです。
不具合対応は単なる問題解決にとどまらず、以下のような価値をもたらします。

- コントリビュートチャンス：現実のユーザー体験を向上させる具体的な改善を行うチャンス！
- 根本的な設計や実装の再考：表面的な修正だけでなく、根本的な課題に取り組む視点の獲得
- 技術的負債の発見と解消：長期的なプロダクトの健全性向上への貢献

## 問い合わせ対応時に行うこと

### 問い合わせ対応開始時 - プロダクトの「基本」を押さえる

プロダクトや機能について十分な理解がない状態では、ユーザーが直面している問題の本質を正確に把握することは困難です。そのため、問い合わせ対応の第一歩として、以下の点を明確に整理することが不可欠です：

- このプロダクトや機能は「どのようなお客様」を対象としているのか
- このプロダクトや機能は「どのような課題を解決するために」設計されているのか
- お客様がプロダクトに求めている体験や挙動はどのようなものか

不具合とは、期待される挙動と実際の挙動との間に乖離が生じている状態です。したがって、まずは正常に動作している状態を正確に理解する必要があります。
さらに、可能な限り実際のプロダクトに触れてみることも重要です。お客様からの申告内容を具体的に体験することで、問題の手触りを直接感じ取ることができます。これにより、抽象的な理解から具体的な体験に基づく理解へと深化させることができます。
例えば、「ログインできない」という問い合わせに対しても、実際にどの画面で、どのような操作をした際に、どのようなエラーメッセージが表示されるのかを自分の目で確認することで、問題の本質に迫ることができます。

### 問い合わせ対応時 - プロダクトの「事実」を徹底的に収集する

プロダクトの基本的な理解を得た後は、実際の原因調査とリカバリの実行へと進みます。この段階では、以下のような「事実」を徹底的に収集することが重要です：

1. エラーログやシステム状態の確認：発生している具体的なエラーメッセージやシステムの状態を詳細に記録
2. 再現条件の特定：問題が発生する具体的な条件や手順を明確化
3. 影響範囲の把握：同様の問題が他のユーザーにも影響している可能性を検証
4. 関連コンポーネントの動作確認：連携している他のシステムやモジュールの状態確認
5. 変更履歴の確認：最近行われた変更や更新が問題に関連している可能性を調査

これらの事実を収集する過程で、プロダクトの内部構造や動作原理について深い洞察を得ることができます。特に、自分が開発に関わっていない部分については、この調査プロセスが最も効果的な学習機会となります。
具体的な調査方法としては：

- コードリーディングによる処理フローの把握
- ログ解析による実行時の挙動理解
- データベース状態の確認による永続化されている情報の把握

などが挙げられます。

### 問い合わせ対応後 - プロダクトの「あるべき姿」を再考する

緊急的な止血対応や暫定対応を完了した後は、同様の問題が再発しないための恒久的な対策を講じる必要があります。この段階こそが、プロダクト理解をさらに深めるための最も価値ある機会です。
恒久対応を検討する際には、単に表面的な問題修正にとどまらず、以下のような本質的な問いかけを行うことが重要です：

- 「この処理の責務は本当にこのモジュール・メソッドにあるべきか？」
- 「前段階で適切なバリデーションを行うべきではないか？」
- 「現在の不具合は、そもそものモデリングに問題があることを示唆していないか？」
- 「一時的な修正より、新たな機能群を設計し直した方が良いのではないか？」
- 「この問題を解決するだけでなく、全体的なユーザー体験を向上させる機会はないか？」
- etc...

また、恒久対応の提案・実装を通じて、自分の理解をチーム全体と共有し、フィードバックを得ることも重要な学習機会となります。

## 実践例：NFC機能の問い合わせ対応から得た学び

上記の流れを、私が実際に対応した「NFCカードを配信することができない」という問い合わせを例に考えてみます。

私の所属するチームが開発するプロダクトであるhomehubでは、登録したNFCカードをエッジデバイス経由でオフラインデバイスに配信し、そのNFCカードでトビラを解錠できるという体験を一部のお客様に提供しています。したがって、NFCカードの配信ができないという問題は、核となる機能が使用できないという極めてクリティカルな障害でした。しかし、このNFCカード配信機能は私自身が開発に携わったことのない領域でした。

### 基本の整理

まず「プロダクトの基本整理」から着手しました。NFCカードの配信を行うこと（または行える状態にすること）が目標であることは明確でしたが、単に配信するだけでなく、配信したNFCカードでトビラが実際に解錠できるようになっていなければ、真の解決にはなりません。
どのような環境で

### 事実の収集

「NFCカードの配信ができない」という現象の原因特定は決して容易ではありません。ソフトウェア的な問題（バックエンドシステム、API、データ形式など）、エッジデバイスの問題（接続状態、ファームウェア、設定など）、オフラインデバイスの問題（ファームウェア、物理的状態など）、環境要因（ネットワーク状態、電波干渉など）、といった様々な要因が関係しうるためです。

調査では、まずソフトウェア観点からの「事実」を整理しました：

- NFCカード登録処理のログ確認
- エッジデバイスへのコマンド配信履歴
- データベース上のNFCカード情報の整合性
- 過去の正常動作事例との比較
- etc...

これらの「事実」は自分の調査だけでなく、他チームへのヘルプにも有用です。実際に配信されているコマンドなどを共有することで、エッジデバイスチームやファームウェアチームとの連携により、各構成要素の役割と現在の状態について詳細な理解を深めることができました。
余談ではありますが、ソフトウェアエンジニアである私が、エッジデバイスやファームウェアについて社内で直接質問しヘルプを求めることができるのは、ビットキーならではだと思っています。

### あるべき姿の再考

原因特定と暫定対応の後、恒久対応のための検討を行いました。この過程で以下のような視点が得られました：

- NFCカード配信の信頼性向上のためのリトライメカニズムの必要性
- 配信状態の可視化によるトラブルシューティングの容易化
- エッジデバイスとオフラインデバイス間の通信プロトコルの再検討
- 障害発生時の自動検知・報告の仕組みの構築

これらの検討は、単に目の前の問題を解決するだけでなく、システム全体の堅牢性と運用性を向上させるきっかけとなりました。

### 予期せぬ付加価値

この問い合わせ対応の副次的な効果として、チーム間の交流が深まり、様々な知見を得ることができました。
例えば、エッジデバイスチームから調査用の遠隔コマンドを教えてもらい、別件調査でも活用することができました。個人的にも入社時にやってみたいと思っていた「IoTっぽいこと」に関する経験を積むことができ、通常の開発業務では得られなかった社内のネットワークと知識の拡大が実現したと思います。

## まとめ

市場問い合わせ対応を通じてプロダクト理解を深めることの有効性をお伝えしてきましたが、顧客第一の原則を忘れてはいけません。
当たり前ですが、自分のプロダクト理解を深めることよりも、お客様の不利益を早急に解消することが最優先事項です。自分の理解がまだ不十分だからといって対応が遅れてしまっては本末転倒です。プロダクト理解の深化はあくまで副次的な効果であり、主目的は顧客満足の迅速な回復であることを常に意識しましょう。

市場問い合わせは時として緊急性が高く、ストレスを伴うものですが、プロダクト理解を劇的に深める絶好の機会でもあります。迅速かつ確実な対応が求められる中で、短時間で集中的に学び、他者の協力を得ながら原因調査から恒久対応までを行うプロセスは、通常の開発業務では得られない貴重な学習体験となります。
市場問い合わせ対応は「避けたいもの」と消極的に捉えられがちですが、本記事で紹介したように「プロダクト理解を加速させる貴重な機会」として前向きに捉え直すことで、エンジニアとしての成長と、より良いプロダクト開発の両方を実現する道が開けるのではないでしょうか。
皆さんも次の市場問い合わせを、単なる対応業務ではなく、プロダクト理解を深める絶好のチャンスと捉えてみてはいかがでしょうか。
